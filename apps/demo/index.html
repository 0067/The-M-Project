<!DOCTYPE html>
<html>
<head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Demo App #01</title>
    <script src="../../modules/jquery/jquery-1.4.3.min.js"></script>
    <script src="../../modules/jquery_mobile/jquery.mobile-1.0a1.min.js"></script>
    <script src="../../modules/underscore/underscore-min.js"></script>    
    <script src="../../modules/core/foundation/m.js"></script>
    <script src="../../modules/core/foundation/object.js"></script>
    <script src="../../modules/core/foundation/request.js"></script>
    <script src="../../modules/core/utility/logger.js"></script>
    <script src="../../modules/core/foundation/event_dispatcher.js"></script>
    <script src="../../modules/core/foundation/observable.js"></script>
    <script src="../../modules/core/foundation/controller.js"></script>
    <script src="../../modules/core/datastore/data_provider.js"></script>
    <script src="../../modules/core/foundation/model.js"></script>
    <script src="../../modules/core/foundation/view.js"></script>
    <script src="../../modules/core/foundation/view_manager.js"></script>
    <script src="../../modules/core/foundation/application.js"></script>

    <script src="../../modules/ui/page.js"></script>
    <script src="../../modules/ui/toolbar.js"></script>
    <script src="../../modules/ui/scroll.js"></script>
    <script src="../../modules/ui/label.js"></script>
    <script src="../../modules/ui/button.js"></script>
    <script src="../../modules/ui/list.js"></script>
    <script src="../../modules/ui/list_item.js"></script>
    <script src="../../modules/ui/text_field.js"></script>
    <script src="../../modules/ui/grid.js"></script>
    <script src="../../modules/ui/image.js"></script>

    <script src="demo.js"></script>

    <link href="../../modules/themes/jquery_mobile/jquery.mobile-1.0a1.min.css" rel="stylesheet" />
    <link href="resources/style.css" rel="stylesheet" />
</head>
<body>
        <script language="JavaScript">
            Demo.app = M.Application.extend({
                page1: M.PageView.design({

                        childViews: ['header content footer'],

                        header: M.ToolbarView.design({
                            value: 'Welcome Page',
                            anchorLocation : M.TOP
                        }),

                        content: M.ScrollView.design({

                            childViews: ['label1 grid button3'],

                            label1: M.LabelView.design({
                                contentBinding: 'Demo.LoginController.numberOfClicks',
                                value: '0'
                            }),

                            grid: M.GridView.design({
                                
                                childViews: ['button1 button2'],

                                layout: M.TWO_COLUMNS,

                                button1: M.ButtonView.design({
                                    value: 'increase',
                                    target: Demo.LoginController,
                                    action: 'addClick',
                                    icon: 'plus'
                                }),

                                button2: M.ButtonView.design({
                                    value: 'decrease',
                                    target: Demo.LoginController,
                                    action: 'removeClick',
                                    icon: 'minus'
                                })
                            }),

                            button3: M.ButtonView.design({
                                value: 'next page',
                                target: Demo.LoginController,
                                action: 'switchPage'
                            })
                        }),

                        footer: M.ToolbarView.design({
                            value: 'Footer',
                            anchorLocation: M.BOTTOM
                        })
                }),

                page2: M.PageView.design({
                    childViews: ['header content footer'],

                    onLoad: {
                        target: Demo.TwitterController,
                        action: 'performSearch'
                    },

                    header: M.ToolbarView.design({
                        value: 'Twitter Demo',
                        anchorLocation : M.TOP
                    }),

                    content: M.ScrollView.design({
                        childViews: ['list1'],

                        list1: M.ListView.design({
                            contentBinding: 'Demo.TwitterController.users',
                            items: 'results',
                            listItemTemplateView: Demo.TwitterUserView,
                            removeItemsOnUpdate: NO
                        })
                    }),

                    footer: M.ToolbarView.design({
                        contentBinding: 'Demo.TwitterController.numUsers',
                        value: 0,
                        anchorLocation: M.BOTTOM
                    })
                }),

                page3: M.PageView.design({
                    childViews: ['header content footer'],

                    onLoad: {
                        target: Demo.TwitterController,
                        action: 'performSearchForUser'
                    },

                    header: M.ToolbarView.design({
                        contentBinding: 'Demo.TwitterController.selectedUser',
                        anchorLocation : M.TOP
                    }),

                    content: M.ScrollView.design({
                        childViews: ['list1'],

                        list1: M.ListView.design({
                            contentBinding: 'Demo.TwitterController.content',
                            items: 'results',
                            listItemTemplateView: Demo.TwitterItemView,
                            removeItemsOnUpdate: YES
                        })
                    }),

                    footer: M.ToolbarView.design({
                        contentBinding: 'Demo.TwitterController.numEntries',
                        value: '0',
                        anchorLocation: M.BOTTOM
                    })
                })
            });
        </script>

        <!-- START THE APP BY CALLING THE M.APPLICATION's MAIN-METHOD -->
        <!-- in the future this call will be made automatically -->
        <script language="JavaScript">
            Demo.app.main();
        </script>

</body>
</html>