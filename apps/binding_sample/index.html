<!DOCTYPE html>
<html>
<head>
    <title>Binding Demo</title>
    <script src="../../modules/jquery/jquery-1.4.4.min.js"></script>
    <script src="../../modules/jquery_mobile/jquery.mobile-1.0a2.min.js"></script>
    <script src="../../modules/underscore/underscore-min.js"></script>
    <script src="../../modules/core/foundation/m.js"></script>
    <script src="../../modules/core/foundation/object.js"></script>
    <script src="../../modules/core/utility/math.js"></script>
    <script src="../../modules/core/foundation/request.js"></script>
    <script src="../../modules/core/utility/logger.js"></script>
    <script src="../../modules/core/utility/date.js"></script>
    <script src="../../modules/core/utility/cypher_algorithms/base64.js"></script>
    <script src="../../modules/core/utility/cypher_algorithms/sha256.js"></script>
    <script src="../../modules/core/utility/cypher.js"></script>
    <script src="../../modules/core/foundation/event_dispatcher.js"></script>
    <script src="../../modules/core/foundation/observable.js"></script>
    <script src="../../modules/core/foundation/controller.js"></script>
    <script src="../../modules/core/datastore/data_provider.js"></script>
    <script src="../../modules/core/datastore/local_storage.js"></script>
    <script src="../../modules/core/foundation/model.js"></script>
    <script src="../../modules/core/foundation/view.js"></script>
    <script src="../../modules/core/foundation/view_manager.js"></script>
    <script src="../../modules/core/foundation/model_registry.js"></script>
    <script src="../../modules/core/foundation/model_manager.js"></script>
    <script src="../../modules/core/foundation/application.js"></script> 
    <script src="../../modules/ui/page.js"></script>
    <script src="../../modules/ui/button.js"></script>
    <script src="../../modules/ui/toolbar.js"></script>
    <script src="../../modules/ui/scroll.js"></script>
    <script src="../../modules/ui/label.js"></script>
    <script src="../../modules/ui/button.js"></script>
    <script src="../../modules/ui/list.js"></script>
    <script src="../../modules/ui/list_item.js"></script>
    <script src="../../modules/ui/text_field.js"></script>
    <script src="../../modules/ui/grid.js"></script>
    <script src="../../modules/ui/image.js"></script>
    <script src="../../modules/ui/toggle.js"></script>
    <script src="../../modules/ui/tab_bar.js"></script>
    <script src="../../modules/ui/tab_bar_item.js"></script>
    <script src="../../modules/ui/dialog.js"></script>
    <script src="../../modules/ui/dialogs/alert_dialog.js"></script>
    <script src="../../modules/ui/dialogs/confirm_dialog.js"></script>
    <script src="../../modules/ui/dialogs/action_sheet_dialog.js"></script>

    <script src="binding_sample.js"></script>

    <link href="../../modules/themes/jquery_mobile/jquery.mobile-1.0a2.min.css" rel="stylesheet" />
</head>
<body>
        <script language="JavaScript">
            BindingSample.app = M.Application.design({
                page: M.PageView.design({

                        childViews: 'header content footer',

                        header: M.ToolbarView.design({
                            value: 'HEADER',
                            anchorLocation : M.TOP
                        }),

                        content: M.ScrollView.design({

                            childViews: 'label1 label2 spacer label3 label4 button1',

                            label1: M.LabelView.design({
                                value: 'Number of clicks: ',
                                isInline: YES
                            }),

                            label2: M.LabelView.design({
                                contentBinding: 'BindingSample.CountController.numberOfClicks',
                                value: '0',
                                isInline: YES
                            }),

                            spacer: M.LabelView.design({
                                value: ' ',
                                isInline: NO
                            }),

                            label3: M.LabelView.design({
                                value: 'Number of clicks (squared): ',
                                isInline: YES
                            }),

                            label4: M.LabelView.design({
                                computedValue: {
                                    contentBinding: 'BindingSample.CountController.numberOfClicks',
                                    value: 0,
                                    operation: function(v, label) {
                                        return M.Math.pow(v, 2);
                                    }
                                },
                                isInline: YES
                            }),

                            button1: M.ButtonView.design({
                                value: 'Click Me',
                                target: BindingSample.CountController,
                                action: 'addClick'
                            })
                        }),

                        footer: M.ToolbarView.design({
                            value: 'FOOTER',
                            anchorLocation: M.BOTTOM
                        })
                })
            });
        </script>

        <!-- START THE APP BY CALLING THE M.APPLICATION's MAIN-METHOD -->
        <!-- in the future this call will be made automatically -->
        <script language="JavaScript">
            BindingSample.app.main();
        </script>

</body>
</html>