<html>
<head>
    <meta charset="UTF-8">
    <title>Backbone => The-M-Project 2.0</title>
    <script src="/libs/jquery-2.0.0.min.js"></script>
    <script src="/libs/underscore-1.4.4.min.js"></script>
    <script src="/libs/backbone-1.0.0.js"></script>
    <script src="/libs/moment-2.0.0.min.js"></script>



</head>

<body>
<h1>Backbone => The-M-Project 2.0 - Tests</h1>

<div id="contact" ></div>

</body>

<script>

    var Contact = Backbone.Model.extend({
        idAttribute: '_id'
    });

    var Contacts = Backbone.Collection.extend({
        model: Contact
    });

    var Controller = {
        contacts: new Contacts([{ firstname: 'Marco', lastname: 'Hanowski'},{ firstname: 'Marco2', lastname: 'Hanowski2'},{ firstname: 'Marco3', lastname: 'Hanowski3'}])
    };

    var MyView = Backbone.View.extend({

        tagName: "div",

        className: "document-row",

        initialize: function() {
            this.listenTo(this.collection, 'selected', this.render);
            this.listenTo(this.collection, 'change', this.render);
        },

        tagName: 'li',

        template: _.template('<p><%= firstname %></p>'),

        render: function(model) {
            if (model) {
                this.model = model;
                this.$el.html(this.template(model.attributes));
                return this;
            }
        }
    });

    var view = new MyView({
        el: $('#contact'),
        collection: Controller.contacts
    });


</script>
</html>